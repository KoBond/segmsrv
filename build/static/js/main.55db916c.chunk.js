(this.webpackJsonprdldemo=this.webpackJsonprdldemo||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/logo.e1cd47af.png"},33:function(e,t,a){e.exports=a(49)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),s=a(18),c=a(8),i="https://127.0.0.1:443/",m={uploadSourceFileRequestInProcess:!1,uploadSourceFileRequestError:!1,uploadSourceFileRequestSuccess:!1,uploadSourceFileRequestStatus:null,uploadSourceFileName:null,serverSourceFileNameURL:null};var u={makeSegmentationRequestInProcess:!1,makeSegmentationRequestError:!1,makeSegmentationRequestSuccess:!1,makeSegmentationRequestStatus:null,sourceFileName:null,resultSegmentationFileUrl:null,resultSegmentationFileName:null};var g={imageProcessingStep:null,imageProcessingStepHint:"Please get image first"};var d={getLastSegmentationRequestInProcess:!1,getLastSegmentationRequestError:!1,getLastSegmentationRequestSuccess:!1,getLastSegmentationRequestStatus:null};var p=Object(s.c)({imageUploader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_SOURCE_IMAGE_REQUEST":return Object(c.a)({},e,{uploadSourceFileRequestInProcess:!0,uploadSourceFileRequestError:!1,uploadSourceFileRequestSuccess:!1,uploadSourceFileRequestStatus:"The source image is being uploaded to the server",uploadSourceFileName:t.filename});case"UPLOAD_SOURCE_IMAGE_SUCCESS":return Object(c.a)({},e,{uploadSourceFileRequestInProcess:!1,uploadSourceFileRequestError:!1,uploadSourceFileRequestSuccess:!0,uploadSourceFileRequestStatus:"The source image has been uploaded to the server",serverSourceFileNameURL:t.fileURL});case"UPLOAD_SOURCE_IMAGE_ERROR":return Object(c.a)({},e,{uploadSourceFileRequestInProcess:!1,uploadSourceFileRequestError:!0,uploadSourceFileRequestSuccess:!1,uploadSourceFileRequestStatus:"Error loading the source image to the server: \n              ".concat(t.error.errorCode,"\n              ").concat(t.error.errorMessage),childUserId:null});default:return e}},imageSegmentations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAKE_SEGMENTAQTION_REQUEST":return Object(c.a)({},e,{makeSegmentationRequestInProcess:!0,makeSegmentationRequestError:!1,makeSegmentationRequestSuccess:!1,makeSegmentationRequestStatus:"Segmentation processing",sourceFileName:t.sourceFileName});case"MAKE_SEGMENTAQTION_SUCCESS":return Object(c.a)({},e,{makeSegmentationRequestInProcess:!1,makeSegmentationRequestError:!1,makeSegmentationRequestSuccess:!0,makeSegmentationRequestStatus:"Segmentation done",resultSegmentationFileUrl:t.resultSegmentationFileUrl,resultSegmentationFileName:t.resultSegmentationFileName});case"MAKE_SEGMENTAQTION_ERROR":return Object(c.a)({},e,{makeSegmentationRequestInProcess:!1,makeSegmentationRequestError:!0,makeSegmentationRequestSuccess:!1,makeSegmentationRequestStatus:"Segmentation error: \n              ".concat(t.error.errorCode,"\n              ").concat(t.error.errorMessage)});case"MAKE_SEGMENTAQTION_RESET":return Object(c.a)({},e,{makeSegmentationRequestInProcess:!1,makeSegmentationRequestError:!1,makeSegmentationRequestSuccess:!1,makeSegmentationRequestStatus:null,resultSegmentationFileUrl:null,resultSegmentationFileName:null});default:return e}},imageProcessing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROCESSING_STEP":return Object(c.a)({},e,{imageProcessingStep:t.processingStep});default:return e}},imageLastSegmentations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LAST_SEGMENTAQTION_REQUEST":return Object(c.a)({},e,{getLastSegmentationRequestInProcess:!0,getLastSegmentationRequestError:!1,getLastSegmentationRequestSuccess:!1,getLastSegmentationRequestStatus:"Get last segmentation processing"});case"GET_LAST_SEGMENTAQTION_SUCCESS":return Object(c.a)({},e,{getLastSegmentationRequestInProcess:!1,getLastSegmentationRequestError:!1,getLastSegmentationRequestSuccess:!0,getLastSegmentationRequestStatus:"Last segmentation was received"});case"GET_LAST_SEGMENTAQTION_ERROR":return Object(c.a)({},e,{getLastSegmentationRequestInProcess:!1,getLastSegmentationRequestError:!0,getLastSegmentationRequestSuccess:!1,getLastSegmentationRequestStatus:"Last segmentation receiving error: \n              ".concat(t.error.errorCode,"\n              ").concat(t.error.errorMessage)});default:return e}}}),E=a(30);var S=a(3),v=a(4),f=a(6),h=a(5),N=a(7),b=a(11),R=a(12),F=a(2),q=function(){return r.a.createElement("footer",{className:"fixed-bottom"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row pt-1 mt-1"},r.a.createElement("div",{className:"col-3 mr-auto"},r.a.createElement(F.b,{to:"/",className:"internal-page-link-calm-nu"},r.a.createElement("p",{className:"text-nowrap"},"Neural Image Segmentation Demo"))),r.a.createElement("div",{className:"col ml-auto"},r.a.createElement("p",{className:"text-right"},r.a.createElement(F.b,{to:"/About",className:"internal-page-link-calm-nu"},"Segme'Nt"," ","v0.0.1"))))))},O=(a(43),function(e){var t=e.text;return r.a.createElement("div",{className:"progress progress-processing"},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}},t))}),I=(a(44),function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).state={focused:0},n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items;return r.a.createElement("div",{className:"nav-menu-line"},t&&r.a.createElement("ul",{className:"nav navbar-nav d-flex"},t.map((function(t,a){if(!t.link)return null;var n="";return e.state.focused===a&&(n+=" focused "),!0===t.attention&&(n+=" attention "),r.a.createElement("li",{className:"flex-sm-fill nav-item "+n,key:a},r.a.createElement(F.b,{className:"nav-link",replace:t.replace,to:t.link},r.a.createElement("span",{className:"text-nowrap"},"\xa0 ",t.caption," \xa0"),"function"===typeof t.badgeVal?r.a.createElement("div",{className:"badge badge-light",title:"New messages!"},t.badgeVal()):null,"function"===typeof t.picture?t.picture():null))}))))}}],[{key:"getCurrentActiveItem",value:function(e){var t=e.items;if(Array.isArray(t)&&t.length>0){for(var a=e.location.pathname,n=-1,r=0;r<e.items.length;r++){var l=e.items[r].link;if(-1!==a.indexOf(l)){n=r;break}}return n}}},{key:"getDerivedStateFromProps",value:function(e,a){var n=t.getCurrentActiveItem(e);return n!==a.focused?{focused:n}:null}}]),t}(n.Component)),P=Object(R.g)(I),k=function(e){var t=e.LogoView,a=e.leftItems,n=e.rightItems,l=e.collapsed,o=e.onToggleCollapse,s=l?"collapse":"expand";return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-xl-1 col-lg-0"}),r.a.createElement("nav",{className:"col navbar navbar-expand-md navbar-light",role:"navigation"},t&&r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(t,null)),r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:o},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:s+" navbar-collapse"},a&&r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(P,{items:a})),r.a.createElement("div",null),n&&r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement(P,{items:n})))),r.a.createElement("div",{className:"col-0 col-xl-1"})))},T=(a(45),a(32)),w=a.n(T),U=function(){return r.a.createElement(F.b,{to:"/"},r.a.createElement("img",{src:w.a,className:"pull-left z-app-logo",alt:"dlDemo"}))},j=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-0"}),r.a.createElement("div",{className:"col-xl-7 col-md"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-10 col-md"},r.a.createElement("h5",null,"Segmentation model description"),r.a.createElement("div",{className:"alert alert-info zalert-info-card",role:"alert"},r.a.createElement("h4",null,"Deeplabv3-ResNet101"),r.a.createElement("hr",null),r.a.createElement("p",null,"Deeplabv3-ResNet101 is contructed by a Deeplabv3 model with a ResNet-101 backbone."),r.a.createElement("p",null,"The pre-trained model has been trained on a subset of COCO train2017, on the 20 categories that are present in the Pascal VOC dataset."),r.a.createElement("h5",null,"Resources"),r.a.createElement("hr",null),r.a.createElement("a",{title:"Deeplabv3-ResNet101 | PyTorch",href:"https://pytorch.org/hub/pytorch_vision_deeplabv3_resnet101/",className:"internal-page-link-calm"},"Deeplabv3-ResNet101 | PyTorch"),r.a.createElement("br",null),r.a.createElement("a",{title:"Rethinking Atrous Convolution for Semantic Image Segmentation",href:"https://arxiv.org/abs/1706.05587",className:"internal-page-link-calm"},"Rethinking Atrous Convolution for Semantic Image Segmentation")))))))},_=(a(46),function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col align-items-center"})),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-xl-3 col-lg-0"}),r.a.createElement("div",{className:"col-xl-7 col-md"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-10 col-md"},r.a.createElement(R.a,{to:"/About"}))))))}),L=(a(47),a(15)),y=a(26),A=a.n(y);a(48);function C(e){return e.json()}var M=function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).state={file:null,fsFileName:null,camError:!1,uploadSourceFileRequestSuccess:!1,uploadSourceFileRequestError:!1,uploadSourceFileRequestStatus:null,uploadSourceFileRequestInProcess:!1,goToPreview:!1},n.handleFileChange=n.handleFileChange.bind(Object(L.a)(n)),n.sendFile=n.sendFile.bind(Object(L.a)(n)),n.handleTakePhoto=n.handleTakePhoto.bind(Object(L.a)(n)),n.handleCameraError=n.handleCameraError.bind(Object(L.a)(n)),n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"handleFileChange",value:function(e){this.setState({file:e.target.files[0],fsFileName:e.target.files[0].name})}},{key:"sendFile",value:function(){this.props.setImageProcessingStep(0),this.props.doUploadImage(null,this.state.file,"file")}},{key:"handleTakePhoto",value:function(e){var t=function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}()+".jpg";this.props.setImageProcessingStep(0),this.props.doUploadImage(t,e,"camera")}},{key:"handleCameraError",value:function(e){this.setState({camError:!0})}},{key:"render",value:function(){var e=this.state,t=e.goToPreview,a=e.camError,n=e.uploadSourceFileRequestError,l=e.uploadSourceFileRequestStatus,o=e.uploadSourceFileRequestInProcess;return t?r.a.createElement(R.a,{to:"/ImgProcessing/Preview"}):r.a.createElement("div",null,o&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement(O,{text:"Uploading image"}))),n&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"alert alert-info zalert-info-card",role:"alert"},r.a.createElement("p",null,"File uploading error"),r.a.createElement("hr",null),r.a.createElement("p",null,l)))),a&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"alert alert-info zalert-info-card",role:"alert"},r.a.createElement("p",null,"Camera error"),r.a.createElement("hr",null),r.a.createElement("p",null,"Camera is not available, please use file upload form")))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"file-uploader"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",onChange:this.handleFileChange}),r.a.createElement("label",{className:"custom-file-label"},this.state.fsFileName)),this.state.fsFileName&&r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-success",type:"button",onClick:this.sendFile},"Upload")))))),!a&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(A.a,{onTakePhoto:t||this.handleTakePhoto,onCameraError:t||this.handleCameraError,isMaxResolution:!0,idealResolution:{width:800,height:600},imageType:y.IMAGE_TYPES.JPG,isSilentMode:!0}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.imageProcessingStep||!e.uploadSourceFileRequestSuccess||t.uploadSourceFileRequestSuccess?e.uploadSourceFileRequestError&&!t.uploadSourceFileRequestError?{uploadSourceFileRequestError:e.uploadSourceFileRequestError,uploadSourceFileRequestStatus:e.uploadSourceFileRequestStatus,uploadSourceFileRequestInProcess:e.uploadSourceFileRequestInProcess}:e.uploadSourceFileRequestInProcess&&!t.uploadSourceFileRequestInProcess?{uploadSourceFileRequestError:e.uploadSourceFileRequestError,uploadSourceFileRequestInProcess:e.uploadSourceFileRequestInProcess}:null:(e.setImageProcessingStep(1),{uploadSourceFileRequestSuccess:!0,goToPreview:!0})}}]),t}(n.Component),x=function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).state={segmentationDone:!1},n.runSegmentation=n.runSegmentation.bind(Object(L.a)(n)),n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"runSegmentation",value:function(){this.props.doSegmentatonImage(this.props.sourceFileName)}},{key:"componentDidMount",value:function(){this.props.makeSegmentationRequestSuccess||this.props.makeSegmentationRequestInProcess||this.props.doSegmentatonImage(this.props.sourceFileName)}},{key:"render",value:function(){var e=this.props,t=e.makeSegmentationRequestInProcess,a=e.resultSegmentationFileUrl,n=e.makeSegmentationRequestStatus,l=e.makeSegmentationRequestError,o=e.sourceFileUrl,s=e.makeSegmentationRequestSuccess,c=this.state.segmentationDone;return this.props.sourceFileUrl?r.a.createElement("div",null,t&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement(O,{text:"Segmentation in process..."}))),!c&&!t&&!l&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{onClick:this.runSegmentation,className:"btn btn-outline-info btn-sm btn-block"},"Segmentation \xa0",r.a.createElement("i",{className:"fa  fa-flask"})))),l&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"alert alert-info zalert-info-card",role:"alert"},r.a.createElement("p",null,"File uploading error"),r.a.createElement("hr",null),r.a.createElement("p",null,n)))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col"},s&&r.a.createElement("img",{src:o,width:"300",alt:"",className:"img-fluid rounded"})),r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:a,width:"300",alt:"",className:"img-fluid rounded"})))):r.a.createElement(R.a,{to:"/ImgProcessing"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.makeSegmentationRequestSuccess&&!t.segmentationDone?{segmentationDone:!0}:null}}]),t}(n.Component),G=function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).state={sourceFileURL:e.sourceFileUrl,goToSegmentation:!1},n.goToSegmentation=n.goToSegmentation.bind(Object(L.a)(n)),n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"goToSegmentation",value:function(){this.props.segmentatonReset(),this.setState({goToSegmentation:!0})}},{key:"render",value:function(){var e=this.props.sourceFileUrl;return this.props.sourceFileUrl?r.a.createElement("div",null,!this.state.goToSegmentation||r.a.createElement(R.a,{to:"/ImgProcessing/Segmentation"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},1===this.props.imageProcessingStep&&r.a.createElement("button",{onClick:this.goToSegmentation,className:"btn btn-outline-info btn-sm btn-block"},"Segmentation \xa0",r.a.createElement("i",{className:"fa fa-flask"})))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:e,className:"img-fluid rounded",alt:""})))):r.a.createElement(R.a,{to:"/ImgProcessing"})}}]),t}(n.Component),D=function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).ProcessedImages=function(){var e=JSON.parse(window.localStorage.getItem("LastSegmentedFilesUrls"));if(Array.isArray(e))return r.a.createElement("div",{className:"img-grid-line"},e.map((function(e,t){return r.a.createElement("div",{className:"row mr-auto mb-2",key:t},r.a.createElement("div",{className:"col"},r.a.createElement("img",{width:"300",src:i+e.src_file_url.slice(1),className:"img-fluid rounded",alt:""})),r.a.createElement("div",{className:"col ml-auto"},r.a.createElement("img",{width:"300",src:i+e.res_file_url.slice(1),className:"img-fluid rounded",alt:""})))})))},n.state={},n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.doGetLastSegmentatonImage()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},1===this.props.imageProcessingStep&&r.a.createElement("button",{onClick:this.goToSegmentation,className:"btn btn-outline-info btn-sm btn-block"},"Segmentation \xa0",r.a.createElement("i",{className:"fa  fa-flask"})))),this.ProcessedImages())}}]),t}(n.Component),Q=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441")};function z(e,t,a){var n=new FormData;return n.append("file","file"===a?t:function(e,t){for(var a=atob(e.split(",")[1]),n=new ArrayBuffer(a.length),r=new Uint8Array(n),l=0;l<a.length;l++)r[l]=a.charCodeAt(l);return new File([n],t,{type:"image/jpeg"})}(t,e)),e="file"===a?t.name:e,function(t){t(function(e){return{type:"UPLOAD_SOURCE_IMAGE_REQUEST",filename:e}}(e));var a=null,r=null,l=null;return fetch("https://127.0.0.1:443/dl_api/1.0/upload_src_img",{mode:"cors",method:"POST",headers:{Accept:"application/json"},body:n}).then((function(e){return a=e.status,e})).then(C).then((function(e){if(200!==a)throw r=e.code,l=e.message,new Error;t(function(e){return{type:"UPLOAD_SOURCE_IMAGE_SUCCESS",fileURL:e}}(i+e.file_name.slice(1)))})).catch((function(e){var n,o;t((n=r||a,o=l||e.message,{type:"UPLOAD_SOURCE_IMAGE_ERROR",error:{errorCode:n,errorMessage:o}}))}))}}function K(e){return{type:"PROCESSING_STEP",processingStep:e}}var V=Object(b.b)((function(e){return{uploadSourceFileRequestError:e.imageUploader.uploadSourceFileRequestError,uploadSourceFileRequestInProcess:e.imageUploader.uploadSourceFileRequestInProcess,uploadSourceFileRequestStatus:e.imageUploader.uploadSourceFileRequestStatus,uploadSourceFileRequestSuccess:e.imageUploader.uploadSourceFileRequestSuccess,sourceFileUrl:e.imageUploader.serverSourceFileNameURL,sourceFileName:e.imageUploader.uploadSourceFileName,imageProcessingStep:e.imageProcessing.imageProcessingStep}}),(function(e){return{doUploadImage:function(t,a,n){return e(z(t,a,n))},setImageProcessingStep:function(t){return e(K(t))}}}))(M);var J=Object(b.b)((function(e){return{makeSegmentationRequestInProcess:e.imageSegmentations.makeSegmentationRequestInProcess,makeSegmentationRequestError:e.imageSegmentations.makeSegmentationRequestError,makeSegmentationRequestSuccess:e.imageSegmentations.makeSegmentationRequestSuccess,makeSegmentationRequestStatus:e.imageSegmentations.makeSegmentationRequestStatus,sourceFileUrl:e.imageUploader.serverSourceFileNameURL,sourceFileName:e.imageUploader.uploadSourceFileName,resultSegmentationFileUrl:e.imageSegmentations.resultSegmentationFileUrl,resultSegmentationFileName:e.imageSegmentations.resultSegmentationFileName,imageProcessingStep:e.imageProcessing.imageProcessingStep}}),(function(e){return{doSegmentatonImage:function(t){return e(function(e){return function(t){t(function(e){return{type:"MAKE_SEGMENTAQTION_REQUEST",sourceFileName:e}}(e));var a=null,n=null,r=null;return fetch("https://127.0.0.1:443/dl_api/1.0/segmentation/"+e,{mode:"cors",method:"GET",headers:{Accept:"application/json"}}).then((function(e){return a=e.status,e})).then(C).then((function(e){var l,o;if(200!==a)throw n=e.code,r=e.message,new Error;t((l=e.res_file_name,o=i+e.res_file_url.slice(1),{type:"MAKE_SEGMENTAQTION_SUCCESS",resultSegmentationFileName:l,resultSegmentationFileUrl:o}))})).catch((function(e){var l,o;t((l=n||a,o=r||e.message,{type:"MAKE_SEGMENTAQTION_ERROR",error:{errorCode:l,errorMessage:o}}))}))}}(t))},setImageProcessingStep:function(t){return e(K(t))},segmentatonReset:function(){return e({type:"MAKE_SEGMENTAQTION_RESET"})}}}))(x),H=Object(b.b)((function(e){return{uploadSourceFileRequestError:e.imageUploader.uploadSourceFileRequestError,uploadSourceFileRequestInProcess:e.imageUploader.uploadSourceFileRequestInProcess,uploadSourceFileRequestStatus:e.imageUploader.uploadSourceFileRequestStatus,uploadSourceFileRequestSuccess:e.imageUploader.uploadSourceFileRequestSuccess,sourceFileUrl:e.imageUploader.serverSourceFileNameURL,sourceFileName:e.imageUploader.uploadSourceFileName,imageProcessingStep:e.imageProcessing.imageProcessingStep}}),(function(e){return{setImageProcessingStep:function(t){return e(K(t))},segmentatonReset:function(){return e({type:"MAKE_SEGMENTAQTION_RESET"})}}}))(G);function B(){return function(e){e({type:"GET_LAST_SEGMENTAQTION_REQUEST"});var t=null,a=null,n=null;return fetch("https://127.0.0.1:443/dl_api/1.0/last_segmentations",{mode:"cors",method:"GET",headers:{Accept:"application/json"}}).then((function(e){return t=e.status,e})).then(C).then((function(r){var l;if(200!==t)throw a=r.code,n=r.message,new Error;e((l=r.segmented_files,window.localStorage.setItem("LastSegmentedFilesUrls",JSON.stringify(l)),{type:"GET_LAST_SEGMENTAQTION_SUCCESS"}))})).catch((function(r){var l,o;e((l=a||t,o=n||r.message,{type:"GET_LAST_SEGMENTAQTION_ERROR",error:{errorCode:l,errorMessage:o}}))}))}}var W=Object(b.b)((function(e){return{getLastSegmentationRequestInProcess:e.imageLastSegmentations.getLastSegmentationRequestInProcess,getLastSegmentationRequestError:e.imageLastSegmentations.getLastSegmentationRequestError,getLastSegmentationRequestSuccess:e.imageLastSegmentations.getLastSegmentationRequestSuccess,getLastSegmentationRequestStatus:e.imageLastSegmentations.getLastSegmentationRequestStatus,resultLastSegmentationFilesURLs:e.imageLastSegmentations.resultLastSegmentationFilesURLs}}),(function(e){return{doGetLastSegmentatonImage:function(){return e(B())}}}))(D),Y=[{caption:"Get image",exact:!1,link:"/ImgProcessing/Upload",path:"/ImgProcessing/Upload",component:V,"filter\u0421omponent":function(){return null}},{caption:"Preview",exact:!1,link:"/ImgProcessing/Preview",path:"/ImgProcessing/Preview",component:H,"filter\u0421omponent":function(){return null}},{caption:"Segmentation",exact:!1,link:"/ImgProcessing/Segmentation",path:"/ImgProcessing/Segmentation",component:J,"filter\u0421omponent":function(){return null}},{caption:"Last segmentations",exact:!1,link:"/ImgProcessing/LastSegmentation",path:"/ImgProcessing/LastSegmentation",component:W,"filter\u0421omponent":function(){return null}},{exact:!1,path:"/ImgProcessing/",component:function(){return e="/ImgProcessing/Upload",r.a.createElement(R.a,{to:e});var e},"filter\u0421omponent":function(){return null}},{exact:!1,component:Q,"filter\u0421omponent":function(){return null}}],$=function(){return r.a.createElement(ne,{items:Y})},X=function(){return r.a.createElement(R.d,null,Y.map((function(e,t){return r.a.createElement(R.b,Object.assign({key:t},e))})))},Z=function(){return Y.map((function(e,t){return r.a.createElement(R.b,Object.assign({key:t},e,{component:e.filter\u0421omponent}))}))},ee=function(e){function t(){return Object(S.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-xl-1 col-lg-0 module-menu-line-color border-bottom"}),r.a.createElement("div",{className:"col module-menu-line-color border-bottom"},r.a.createElement($,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-0"},r.a.createElement(Z,null)),r.a.createElement("div",{className:"col-xl-7 col-md"},r.a.createElement(X,null))))}}]),t}(n.Component),te=function(e){function t(e,a){var n;return Object(S.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e,a))).state={collapsedMainMenu:!0,previousLocation:"/"},n.menuItems=[{caption:"About",link:"/About"},{caption:"Image segmentation",link:"/ImgProcessing"},{caption:"Used model",link:"/Help",attention:!1}],n}return Object(N.a)(t,e),Object(v.a)(t,[{key:"onToggleCollapse",value:function(){this.setState({collapsedMainMenu:!this.state.collapsedMainMenu})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"zApp"},r.a.createElement("header",{className:"border-bottom"},r.a.createElement(k,{LogoView:U,leftItems:this.menuItems,rightItems:this.authMenuItems,collapsed:this.state.collapsedMainMenu,onToggleCollapse:function(){return e.onToggleCollapse()}})),r.a.createElement("main",{className:"app-modules"},r.a.createElement(R.b,{exact:!0,path:"/",component:function(){return _(e.props.authorized)}}),r.a.createElement(R.b,{exact:!0,path:"/index.html",component:function(){return _(e.props.authorized)}}),r.a.createElement("div",null,r.a.createElement(R.b,{exact:!0,path:"/Help",component:j}),r.a.createElement(R.b,{exact:!0,path:"/About",component:function(){return e.props.systemVersion,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col align-items-center"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-3 col-lg-0"}),r.a.createElement("div",{className:"col-xl-7 col-md"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-10 col-md"},r.a.createElement("h5",null,"Demo application course project"),r.a.createElement("div",{className:"alert alert-info zalert-info-card",role:"alert"},r.a.createElement("p",null,"Neural Image Segmentation Demo"),r.a.createElement("hr",null),r.a.createElement("p",null,"Segmentation pictures of camera images and jpg files"),r.a.createElement("p",null,"for \xa0",r.a.createElement("a",{title:"Deep Learning Scool",href:"https://www.dlschool.org/",className:"internal-page-link-calm"},"Deep Learning Scool"))))))))}}),r.a.createElement(R.b,{path:"/ImgProcessing",component:ee}))),r.a.createElement(q,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.location.pathname!==t.previousLocation?(window.previousLocation=t.previousLocation,{previousLocation:e.location.pathname}):null}}]),t}(n.Component);te.menuItems=[],te.authMenuItems=[];var ae=te,ne=function(e){var t=e.items,a=e.RightSide;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row no-gutters module-menu-line-color"},r.a.createElement("div",{className:"col-auto mr-auto navbar-expand-sm"},r.a.createElement(P,{items:t})),a&&r.a.createElement("div",{className:"col ml-auto"},r.a.createElement(a,null))))},re=Object(b.b)((function(e){return{systemName:"Segme'Nt",systemVersion:"v0.0.1"}}),(function(e){return{}}))(ae),le=r.a.createElement("div",null,r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/index.html",component:re}),r.a.createElement(R.b,{exact:!0,path:"/",component:re}),r.a.createElement(R.b,{path:"/About",component:re}),r.a.createElement(R.b,{path:"/ImgProcessing",component:re}),r.a.createElement(R.b,{path:"/Help",component:re}),r.a.createElement(R.b,{component:function(e){var t=e.location;return r.a.createElement("div",{className:"zApp"},r.a.createElement("div",{className:"container app-modules"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-0"},r.a.createElement(U,null)),r.a.createElement("div",{className:"col-lg-6 col-md mt-2"},r.a.createElement("h4",null,"Page not found"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"d-md-none"},r.a.createElement("hr",null)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-0"}),r.a.createElement("div",{className:"col-lg-6 col-md-0 mb-2"},r.a.createElement("p",null,t.pathname),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-0"}),r.a.createElement("div",{className:"col-lg-6 col-md-0 mb-2"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-6 col-sm ml-auto"},r.a.createElement(F.b,{to:"/",className:"internal-page-link-calm-nu",title:"Main page"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-info btn-sm btn-block"},"OK"))))))),r.a.createElement(q,null))}}))),oe=function(e){function t(){return Object(S.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,{store:this.props.store},r.a.createElement("div",null,r.a.createElement(F.a,null,le))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se,ce=Object(s.d)(p,se,Object(s.a)(E.a));o.a.render(r.a.createElement(oe,{store:ce}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.55db916c.chunk.js.map